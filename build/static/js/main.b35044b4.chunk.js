(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),i=n.n(r),s=n(152),o=n(9),l=n(18),j=n(73),u=n(136),b=(n(139),n(140)),d=n(142),p=n(108),m=n(143),f=n(28),O=n(2),x=Object(u.a)((function(e){return{toolbarMargin:Object(j.a)({},e.mixins.toolbar),title:Object(l.a)({flexGrow:1,fontSize:"2rem"},e.breakpoints.down("sm"),{fontSize:"1.5rem"}),btn:{color:"white"}}})),h=function(e){var t=x(),n=Object(a.useState)(""),c=Object(o.a)(n,2);c[0],c[1];return Object(O.jsxs)(a.Fragment,{children:[Object(O.jsx)(b.a,{children:Object(O.jsxs)(d.a,{children:[Object(O.jsx)(p.a,{className:t.title,variant:"h5",noWrap:!0,children:"Crud"}),Object(O.jsxs)("div",{children:[Object(O.jsx)(m.a,{value:0,className:t.btn,component:f.b,to:"/",children:"Signup"}),Object(O.jsx)(m.a,{className:t.btn,component:f.b,to:"/Login",children:"Login"}),Object(O.jsx)(m.a,{className:t.btn,component:f.b,to:"/Post",children:"Create Post"})]})]})}),Object(O.jsx)("div",{className:t.toolbarMargin})]})},g=n(78),v=Object(g.a)({palette:{primary:{main:"".concat("#8e24aa")},secondary:{main:"".concat("#e53935")}},typography:{h4:{fontWeight:"300"},h1:{fontWeight:"300"}}}),w=n(14),y=n.n(w),S=n(21),N=n(146),C=n(153),k=n(35),L=n.n(k),P=n(144),z=n(145),T=n(8),A=n(154),D=n(56),E=n.n(D),I=Object(u.a)((function(e){return{margin:{margin:e.spacing(1),display:"flex",justifyContent:"center",flexDirection:"column",width:"50vw",marginLeft:"12vw",marginTop:"2rem"},btn:{display:"flex",justifyContent:"center",flexDirection:"column",width:"50vw",marginLeft:"12vw",marginTop:"2rem"},title:Object(l.a)({flexGrow:1,fontSize:"2rem",marginLeft:"10rem"},e.breakpoints.down("sm"),{fontSize:"1rem",marginLeft:"3rem"})}})),F=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(o.a)(r,2),s=i[0],l=i[1],j=Object(a.useState)(""),u=Object(o.a)(j,2),b=u[0],d=u[1],f=Object(a.useState)(""),x=Object(o.a)(f,2),h=x[0],g=x[1],v=Object(a.useState)(!1),w=Object(o.a)(v,2),k=w[0],D=w[1],F=Object(a.useState)(""),G=Object(o.a)(F,2),B=G[0],J=G[1],H=I(),W=function(){var e=Object(S.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/signup",{method:"POST",headers:{Accept:"application/json","content-type":"application/json"},body:JSON.stringify({name:s,email:b,password:h})});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).error&&J(n.error),"success"==n.status?D(!0):c(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(a.Fragment,{children:[k?Object(O.jsx)(T.a,{to:"/Login"}):"",n?Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:H.root,children:Object(O.jsx)(P.a,{in:n,children:Object(O.jsx)("div",{className:H.alert,children:Object(O.jsx)(A.a,{action:Object(O.jsx)(z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){c(!1)},children:Object(O.jsx)(E.a,{fontSize:"inherit"})}),children:B||""})})})})}):"",Object(O.jsxs)("div",{className:H.margin,children:[Object(O.jsx)("div",{children:Object(O.jsx)(p.a,{variant:"h5",className:H.title,children:"Please signup !"})}),Object(O.jsx)(C.a,{className:H.margin,id:"input-with-icon-textfield",label:"Name",InputProps:{startAdornment:Object(O.jsx)(N.a,{position:"start",children:Object(O.jsx)(L.a,{})})},onChange:function(e){return l(e.target.value)}}),Object(O.jsx)(C.a,{className:H.margin,id:"input-with-icon-textfield",label:"Email",InputProps:{startAdornment:Object(O.jsx)(N.a,{position:"start",children:Object(O.jsx)(L.a,{})})},onChange:function(e){return d(e.target.value)}}),Object(O.jsx)(C.a,{className:H.margin,id:"input-with-icon-textfield",label:"Password",type:"password",InputProps:{startAdornment:Object(O.jsx)(N.a,{position:"start",children:Object(O.jsx)(L.a,{})})},onChange:function(e){return g(e.target.value)}}),Object(O.jsx)(m.a,{className:H.btn,variant:"contained",color:"primary",onClick:W,children:"Submit"})]})]})},G=Object(u.a)((function(e){return{margin:{margin:e.spacing(1),display:"flex",justifyContent:"center",flexDirection:"column",width:"50vw",marginLeft:"12vw",marginTop:"2rem"},btn:{display:"flex",justifyContent:"center",flexDirection:"column",width:"50vw",marginLeft:"12vw",marginTop:"2rem"},title:Object(l.a)({flexGrow:1,fontSize:"2rem",marginLeft:"10rem"},e.breakpoints.down("sm"),{fontSize:"1rem",marginLeft:"3rem"})}})),B=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=(t[0],t[1],Object(a.useState)("")),r=Object(o.a)(n,2),i=r[0],s=r[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),u=j[0],b=j[1],d=Object(a.useState)(!1),f=Object(o.a)(d,2),x=f[0],h=f[1],g=c.a.useState(!1),v=Object(o.a)(g,2),w=v[0],k=v[1],D=G(),I=function(){var e=Object(S.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/signin",{method:"POST",headers:{Accept:"application/json","content-type":"application/json"},body:JSON.stringify({email:i,password:u})});case 2:return t=e.sent,e.next=5,t.json();case 5:"success"==e.sent.status?h(!0):k(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(a.Fragment,{children:[x?Object(O.jsx)(T.a,{to:"/Homepage"}):"",w?Object(O.jsx)("div",{className:D.root,children:Object(O.jsx)(P.a,{in:w,children:Object(O.jsx)("div",{className:D.alert,children:Object(O.jsx)(A.a,{action:Object(O.jsx)(z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){k(!1)},children:Object(O.jsx)(E.a,{fontSize:"inherit"})}),children:"Invalid username or password!"})})})}):"",Object(O.jsxs)("div",{className:D.margin,children:[Object(O.jsx)(p.a,{variant:"h5",className:D.title,children:"Please Login !"}),Object(O.jsx)(C.a,{className:D.margin,id:"input-with-icon-textfield",label:"Email",InputProps:{startAdornment:Object(O.jsx)(N.a,{position:"start",children:Object(O.jsx)(L.a,{})})},onChange:function(e){s(e.target.value)}}),Object(O.jsx)(C.a,{className:D.margin,id:"input-with-icon-textfield",label:"Password",type:"password",InputProps:{startAdornment:Object(O.jsx)(N.a,{position:"start",children:Object(O.jsx)(L.a,{})})},onChange:function(e){return b(e.target.value)}}),Object(O.jsx)(m.a,{className:D.btn,variant:"contained",color:"primary",onClick:I,children:"Submit"})]})]})},J=n(147),H=n(148),W=n(149),M=n(150),_=n(151),R=n.p+"static/media/img1.01c861cb.jpg",U=Object(u.a)((function(e){return Object(l.a)({root:{maxWidth:345,display:"flex",flexDirection:"column",marginLeft:"1rem"},media:{height:140}},e.breakpoints.up("md"),{deco:{display:"flex",flexDirection:"row",marginLeft:"1rem"}})})),q=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],j=Object(a.useState)(""),u=Object(o.a)(j,2),b=u[0],d=u[1],f=Object(a.useState)(!1),x=Object(o.a)(f,2),h=x[0],g=x[1],v=U();Object(a.useEffect)((function(){return function(){var e=Object(S.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/post",{method:"GET",headers:{Accept:"application/json","content-type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){console.log("clean up work from the Homepage.js")}}),[h]);var w=function(){var e=Object(S.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/post/".concat(t),{method:"DELETE",headers:{Accept:"application/json","content-type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent,g(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[s?Object(O.jsx)(T.a,{to:"/post/edit/".concat(b)}):"",Object(O.jsx)("div",{className:v.deco,children:n.map((function(e,t){return Object(O.jsx)(a.Fragment,{children:Object(O.jsxs)(J.a,{className:v.root,children:[Object(O.jsxs)(H.a,{children:[Object(O.jsx)(W.a,{className:v.media,image:"".concat(R),title:"Contemplative Reptile"}),Object(O.jsxs)(M.a,{children:[Object(O.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(O.jsx)(p.a,{variant:"body2",color:"textSecondary",component:"p",children:e.body}),Object(O.jsx)(p.a,{variant:"body2",color:"textSecondary",style:{fontStyle:"italic",fontWeight:"bold"},children:"posted By ".concat(e.postedBy)})]})]}),Object(O.jsxs)(_.a,{children:[Object(O.jsx)(m.a,{size:"small",variant:"contained",style:{backgroundColor:"#8e24aa",color:"#fff"},onClick:function(){return function(e){d(e),console.log(e),l(!0)}(e._id)},children:"Edit"}),Object(O.jsx)(m.a,{size:"small",variant:"contained",style:{backgroundColor:"#8e24aa",color:"#fff"},onClick:function(){return w(e._id)},children:"Delete"})]})]})},t)}))})]})},K=Object(u.a)((function(e){return{margin:{margin:e.spacing(1),display:"flex",justifyContent:"center",flexDirection:"column",width:"50vw",marginLeft:"12vw",marginTop:"2rem"},btn:{display:"flex",justifyContent:"center",flexDirection:"column",width:"50vw",marginLeft:"12vw",marginTop:"2rem"},title:Object(l.a)({flexGrow:1,fontSize:"2rem",marginLeft:"10rem"},e.breakpoints.down("sm"),{fontSize:"1rem",marginLeft:"3rem"})}})),Q=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(o.a)(r,2),s=i[0],l=i[1],j=Object(a.useState)(""),u=Object(o.a)(j,2),b=u[0],d=u[1],f=Object(a.useState)(!1),x=Object(o.a)(f,2),h=x[0],g=x[1],v=K(),w=function(){var e=Object(S.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/post",{method:"POST",headers:{Accept:"application/json","content-type":"application/json"},body:JSON.stringify({title:n,body:s,postedBy:b})});case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent,g(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(a.Fragment,{children:[h?Object(O.jsx)(T.a,{to:"/Homepage"}):"",Object(O.jsxs)("div",{className:v.margin,children:[Object(O.jsx)("div",{children:Object(O.jsx)(p.a,{variant:"h5",className:v.title,children:"Create a Post"})}),Object(O.jsx)(C.a,{className:v.margin,id:"input-with-icon-textfield",label:"title",onChange:function(e){return c(e.target.value)}}),Object(O.jsx)(C.a,{className:v.margin,id:"input-with-icon-textfield",label:"body",onChange:function(e){return l(e.target.value)}}),Object(O.jsx)(C.a,{className:v.margin,id:"input-with-icon-textfield",label:"posted by",onChange:function(e){return d(e.target.value)}}),Object(O.jsx)(m.a,{className:v.btn,variant:"contained",color:"primary",onClick:w,children:"Submit"}),console.log(n,s)]})]})},V=Object(u.a)((function(e){return{margin:{margin:e.spacing(1),display:"flex",justifyContent:"center",flexDirection:"column",width:"50vw",marginLeft:"12vw",marginTop:"2rem"},btn:{display:"flex",justifyContent:"center",flexDirection:"column",width:"50vw",marginLeft:"12vw",marginTop:"2rem"},title:Object(l.a)({flexGrow:1,fontSize:"2rem",marginLeft:"10rem"},e.breakpoints.down("sm"),{fontSize:"1rem",marginLeft:"3rem"})}})),X=function(){var e=Object(T.g)().postId;console.log(e);var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),s=Object(o.a)(i,2),l=s[0],j=s[1],u=Object(a.useState)(""),b=Object(o.a)(u,2),d=b[0],f=b[1],x=Object(a.useState)(!1),h=Object(o.a)(x,2),g=h[0],v=h[1],w=V(),N=function(){var t=Object(S.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/post/".concat(e),{method:"PUT",headers:{Accept:"application/json","content-type":"application/json"},body:JSON.stringify({title:c||void 0,body:l||void 0,postedBy:d||""})});case 2:return n=t.sent,t.next=5,n.json();case 5:t.sent,v(!0);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){var e=Object(S.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/post",{method:"GET",headers:{Accept:"application/json","content-type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[]),Object(O.jsxs)(a.Fragment,{children:[g?Object(O.jsx)(T.a,{to:"/Homepage"}):"",Object(O.jsxs)("div",{className:w.margin,children:[Object(O.jsx)("div",{children:Object(O.jsx)(p.a,{variant:"h5",className:w.title,children:"Edit Post"})}),Object(O.jsx)(C.a,{className:w.margin,id:"input-with-icon-textfield",label:"title",value:c,onChange:function(e){return r(e.target.value)}}),Object(O.jsx)(C.a,{className:w.margin,id:"input-with-icon-textfield",label:"body",value:l,onChange:function(e){return j(e.target.value)}}),Object(O.jsx)(C.a,{className:w.margin,id:"input-with-icon-textfield",label:"posted by",value:d,onChange:function(e){return f(e.target.value)}}),Object(O.jsx)(m.a,{className:w.btn,variant:"contained",color:"primary",onClick:N,children:"Submit"})]})]})};var Y=function(){return Object(O.jsx)(s.a,{theme:v,children:Object(O.jsxs)(f.a,{children:[Object(O.jsx)(h,{}),Object(O.jsxs)(T.d,{children:[Object(O.jsx)(T.b,{exact:!0,path:"/",component:F}),Object(O.jsx)(T.b,{exact:!0,path:"/Login",component:B}),Object(O.jsx)(T.b,{exact:!0,path:"/Homepage",component:q}),Object(O.jsx)(T.b,{exact:!0,path:"/Post",component:Q}),Object(O.jsx)(T.b,{exact:!0,path:"/post/edit/:postId",component:X})]})]})})};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(Y,{})}),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.b35044b4.chunk.js.map